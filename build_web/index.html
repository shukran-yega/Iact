<!DOCTYPE html>
<html>
<head>
  <base href="/">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="Offical website for iDeas in Action LTD.">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="iACT">
  <link rel="apple-touch-icon" href="favicon.png">

  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>iact</title>
  <link rel="manifest" href="manifest.json">

  <!-- Import a modern Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /* ---------- Base / layout ---------- */
    html, body {
      margin: 0;
      height: 100%;
      font-family: 'Inter', Arial, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      background: #fefefe;
      color: #183153;
    }
    body {
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      letter-spacing: 0.01em;
    }

    /* ---------- Loading screen (keeps original look) ---------- */
    #loading-screen {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.85);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 99999; /* very high so it sits above flutter canvas until removed */
      pointer-events: auto;
      opacity: 1;
      transform: none;
      transition:
        opacity 1200ms cubic-bezier(.22,1,.36,1),
        transform 1200ms cubic-bezier(.22,1,.36,1),
        backdrop-filter 1200ms cubic-bezier(.22,1,.36,1);
      will-change: opacity, transform;
      -webkit-backdrop-filter: blur(0px);
      backdrop-filter: blur(100px);
    }

    /* Apple-level smooth fade-out + subtle motion + blur */
    #loading-screen.fade-out {
      opacity: 0;
      transform: translateY(-100px) scale(0.995);
      pointer-events: none;
      -webkit-backdrop-filter: blur(6px);
      backdrop-filter: blur(6px);
    }

    /*.logo-container {
      position: relative;
      width: 150px;
      height: 150px;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
      background: rgba(255, 255, 255, 0.25);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-radius: 32px;
      border: 1.5px solid rgba(255, 255, 255, 0.18);
      transition: box-shadow 0.3s;
    }

    .logo-container:hover { box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.22); }
*/
    .logo {
  width: 90%;
  height: 90%;
  object-fit: contain;
  animation: pulseGlow 2.5s ease-in-out infinite;
  background: transparent;
  border-radius: 24px;
  box-shadow: none;
  transform-origin: center;
  margin-left: 10px;
}

/* Combined pulsing glow + subtle scale */
@keyframes pulseGlow {
  0% {
    transform: scale(1);
    filter: drop-shadow(0 0 0 rgba(51, 153, 255, 0.4));
  }
  50% {
    transform: scale(1.06);
    filter: drop-shadow(0 0 18px rgba(51,153,255,0.9));
  }
  100% {
    transform: scale(1);
    filter: drop-shadow(0 0 0 rgba(51,153,255,0.4));
  }
}

    

    /* Animated dots that appear one after another */
.loading-dots {
  display: inline-flex;
  margin-left: 4px;
}

.loading-dots .dot {
  width: 6px;
  height: 6px;
  margin: 0 2px;
  background-color: currentColor;
  border-radius: 50%;
  opacity: 0.2;
  animation: dotPulse 1.5s infinite ease-in-out;
  color: #82b5e5;
}

.loading-dots .dot:nth-child(1) { animation-delay: 0s; }
.loading-dots .dot:nth-child(2) { animation-delay: 0.3s; }
.loading-dots .dot:nth-child(3) { animation-delay: 0.6s; }

@keyframes dotPulse {
  0%, 80%, 100% { opacity: 0.2; transform: translateY(0); }
  40% { opacity: 1; transform: translateY(-2px); }
}

    .loading-bar {
      width: 220px;
      height: 5px;
      background: linear-gradient(90deg, #e3f2fd 0%, #b3e0ff 100%);
      border-radius: 3px;
      margin-top: 24px;
      overflow: hidden;
      opacity: 0;
      animation: fadeIn 0.5s ease-in forwards;
      box-shadow: 0 2px 8px 0 rgba(51,153,255,0.10);
    }
    .loading-progress {
      width: 0%;
      height: 100%;
      background: linear-gradient(90deg, #3399ff 0%, #1a237e 100%);
      border-radius: 3px;
      animation: progress 2s ease-in-out infinite;
    }

    /* Keep your dots + ripple animations as-is (only minor performance hints added) */
    .dots { display:flex; gap:8px; margin-top:10px; opacity:0; animation: fadeIn 0.5s ease-in forwards; }
    .dot { width:8px; height:8px; background:#1a237e; border-radius:50%; animation:bounce 1.4s infinite ease-in-out; }
    .dot:nth-child(1){ animation-delay: 0s; } .dot:nth-child(2){ animation-delay: 0.2s; } .dot:nth-child(3){ animation-delay: 0.4s; }

    /* Ripple background (kept unchanged) */
    .ripple-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
      overflow: hidden;
      pointer-events: none;
      transform-origin: center;
      will-change: transform, filter;
      transition: transform 700ms cubic-bezier(.22,1,.36,1), filter 700ms cubic-bezier(.22,1,.36,1);
    }

    /* Slight sub-scale on background when app appears for depth */
    body.app-ready .ripple-background {
      transform: scale(0.995);
      filter: saturate(0.98) blur(0.25px);
    }

    .circle { position:absolute; border-radius:50%; background:white; animation:ripple 15s infinite; box-shadow: 0px 0px 1px 0px #508fb9; }
    .small { width:200px; height:200px; left:-100px; bottom:-100px; }
    .medium { width:400px; height:400px; left:-200px; bottom:-200px; }
    .large { width:600px; height:600px; left:-300px; bottom:-300px; }
    .xlarge { width:800px; height:800px; left:-400px; bottom:-400px; }
    .xxlarge { width:1000px; height:1000px; left:-500px; bottom:-500px; }
    .shade1{ opacity:0.2 } .shade2{ opacity:0.5 } .shade3{ opacity:0.7 } .shade4{ opacity:0.8 } .shade5{ opacity:0.9 }

    /* ---------- Subtle micro-animations ---------- */
    @keyframes pulse { 0%{transform:scale(1)} 50%{transform:scale(1.05)} 100%{transform:scale(1)} }
    @keyframes fadeIn { from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:translateY(0)} }
    @keyframes progress { 0%{width:0%} 50%{width:100%} 100%{width:0%} }
    @keyframes bounce { 0%,80%,100%{transform:scale(0)} 40%{transform:scale(1)} }
    @keyframes ripple { 0%{transform:scale(0.8)} 50%{transform:scale(1.2)} 100%{transform:scale(0.8)} }

    /* ---------- Smooth Flutter crossfade rules ---------- */
    /* Many Flutter web builds create a <flt-glass-pane> or a canvas element for the UI.
       We keep these elements visually hidden until the HTML splash finishes its transition,
       then we smoothly fade/settle them into view for a high-end feel.
    */
    flt-glass-pane,
    #flt-platform-view,
    .flutter-root,
    canvas {
      opacity: 0;
      transform: translateY(8px) scale(1.02);
      transition:
        opacity 540ms cubic-bezier(.22,1,.36,1),
        transform 540ms cubic-bezier(.22,1,.36,1);
      will-change: opacity, transform;
      pointer-events: none;
    }

    /* When body has .app-ready, we fade the Flutter render target in */
    body.app-ready flt-glass-pane,
    body.app-ready #flt-platform-view,
    body.app-ready .flutter-root,
    body.app-ready canvas {
      opacity: 1;
      transform: none;
      pointer-events: auto;
    }

    /* Accessibility: when the splash is fading we don't want focusable elements below to be tabbed into */
    body.splash-active *:not(#loading-screen):not(#loading-screen *) {
      user-select: none;
    }

  </style>
</head>
<body class="splash-active">
<!-- Animated ripple background (replaces SVG wave) -->
<div class="ripple-background">
  <div class="circle xxlarge shade1"></div>
  <div class="circle xlarge shade2"></div>
  <div class="circle large shade3"></div>
  <div class="circle medium shade4"></div>
  <div class="circle small shade5"></div>
</div>

<!-- Loading Screen -->
<div id="loading-screen" aria-hidden="false" role="status" aria-live="polite">
  <div class="logo-container" style="margin-bottom:10px;">
    <img src="assets/logo.png" alt="IACT Logo" class="logo">
  </div>
  <div id="loading-text" class="loading-text" style="margin-top:10px;">Loading...</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
<script>
  // List of interactive loading phrases (updated to reflect IACT's focus)
  // Simplified animated "Loading..." text with animated dots
const loadingText = document.getElementById('loading-text');
loadingText.textContent = 'Loading';

// Create 3 animated dots that appear one after another
const dotsContainer = document.createElement('span');
dotsContainer.classList.add('loading-dots');
loadingText.appendChild(dotsContainer);

for (let i = 0; i < 3; i++) {
  const dot = document.createElement('span');
  dot.classList.add('dot');
  dotsContainer.appendChild(dot);
}

  // Graceful crossfade handler for flutter-first-frame
  window.addEventListener('flutter-first-frame', function () {
    const loading = document.getElementById('loading-screen');

    // Add class on body that signals "app is ready" â€” this triggers the flutter canvas to fade in via CSS
    document.body.classList.add('app-ready');

    // Start fancy apple-like fade/settle out for the loading screen
    loading.classList.add('fade-out');

    // Once loading-screen finishes its CSS transition, remove it from DOM for performance
    const cleanup = () => {
      if (loading && loading.parentNode) loading.parentNode.removeChild(loading);
      document.body.classList.remove('splash-active');
    };

    // Listen for transitionend; fallback timeout for reliability
    let removed = false;
    loading.addEventListener('transitionend', (e) => {
      // ensure we wait for opacity/transform transitions (some browsers fire multiple transitionend events)
      if (e.propertyName === 'opacity' || e.propertyName === 'transform') {
        if (!removed) { removed = true; cleanup(); }
      }
    }, { once: true });

    // fallback if transitionend doesn't fire
    setTimeout(() => {
      if (!removed) { removed = true; cleanup(); }
    }, 1400);
  });

  // Load Lottie gears animation (keeps original error handling)
  try {
    lottie.loadAnimation({
      container: document.getElementById('lottie-gears'), // the dom element (no-op if absent)
      renderer: 'svg',
      loop: true,
      autoplay: true,
      path: 'assets/gears.json' // the path to the animation json
    });
  } catch (error) {
    console.error('Lottie load error:', error);
  }
</script>

<script src="flutter_bootstrap.js" async></script>
</body>
</html>
